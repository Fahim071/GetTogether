<!-- Login Page -->
<!DOCTYPE html>
<html>
  <head>
    <title>Login Page</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="total.css" />

    <link
      href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <span class="Header">
      <span style="display: flex; justify-content: space-evenly">
        <a href="/indexlog"><h2>Get together</h2></a>
        <form
          style="display: flex; margin-top: 20px"
          method="post"
          action="/search"
        >
          <input style="width: 100%" />
          <input type="submit" value="Search" />
        </form>
        <a href="/"
          ><img
            style="width: 50px; height: 50px; margin-top: 10px"
            src="user.svg"
        /></a>
      </span>
      <span style="display: flex; justify-content: space-evenly">
        <a href="#motiv"><p>Motivational speaker</p></a>
        <a href="#plays"><p>Playback singer</p></a>
        <a href="#modl"><p>Model</p></a>
        <a href="#Footer"><p>Contact US</p></a>
        <a href="#Footer"><p>About US</p></a>
        <a href="/"><p>Log out</p></a>
      </span>
    </span>

    <div class="galaryRoot">
      <span
        style="
          top: 30%;
          display: flow-root;
          position: relative;
          left: 70%;
          width: fit-content;
          height: fit-content;
          padding: 20px;
          border-radius: 20px;
          background-color: #000000c0;
        "
      >
        <p id="name" style="font-size: large">Loading</p>
        <p id="no">Loading</p>
        <p id="fee">Loading</p>
        <p id="ven">Loading</p>
        <p id="date">Loading</p>
        <p id="coname">Loading</p>
        <p id="cono">Loading</p>
        <a id="link" href="/Plogin.html" style="margin-bottom: 20px"
          ><button>Register</button></a
        >
      </span>
      <span
        id="button-left"
        style="
          padding: 20px;
          top: 50%;
          display: flow-root;
          position: relative;
          right: 10%;
          font-size: xx-large;
          width: fit-content;
          height: fit-content;
          background-color: lime;
          border-radius: 20px;
        "
        ><</span
      >
      <span
        id="button-right"
        style="
          top: 50%;
          display: flow-root;
          position: relative;
          left: 78%;
          height: fit-content;
          font-size: xx-large;
          width: fit-content;
          background-color: lime;
          padding: 20px;
          border-radius: 20px;
        "
        >></span
      >
    </div>

    <h1 id="motiv">Motivational Speaker</h1>
    <section class="grid-container" id="motivational"></section>
    <h1 id="plays">Playback Singer</h1>
    <section class="grid-container" id="playback"></section>
    <h1 id="modl">Model</h1>
    <section class="grid-container" id="modell"></section>

    <span id="Footer" class="Footer">
      <span style="display: flex; justify-content: space-around">
        <form class="complainForm" method="post" action="/complaint">
          <h3>Complaint form</h3>
          <input style="margin-bottom: 10px" type="text" />
          <input type="submit" style="margin: 0px" />
        </form>
        <form>
          <h3>About US</h3>
          <h3>
            Day by day human make themself like a<br />robot their life is
            getting boring we<br />want to give entertainment for a few moment.
          </h3>
        </form>
        <form>
          <h3>Contact US</h3>
          <h3>
            Head office<br />Get together<br />Mirpur,Dhaka<br />01792942755
          </h3>
        </form>
      </span>
    </span>
  </body>
  <script>
    function listLoader(rootag, data_url) {
      const root = document.getElementById(rootag);
      fetch(data_url)
        .then((d) => {
          return d.json();
        })
        .then((d) => {
          for (let data in d) {
            const Div = document.createElement("section");

            Div.setAttribute("class", "grid-item listItem");
            Div.style.background = "#0a0a0a";

            const Title = document.createElement("h2");
            Title.textContent = d[data].eventname;
            const EvNo = document.createElement("h2");
            EvNo.textContent = "Event No: " + d[data].eventno;
            const Price = document.createElement("h2");
            Price.textContent = "à§³" + d[data].fee;

            const Venue = document.createElement("h3");
            Venue.textContent = "Venue: " + d[data].venue;
            const Date = document.createElement("h3");
            Date.textContent = "Date: " + d[data].date;
            const CName = document.createElement("h3");
            CName.textContent = "Co-Ordinator Name: " + d[data].coordinatorname;
            const CNum = document.createElement("h3");
            CNum.textContent = "Co-Ordinator Number: " + d[data].coordinatorno;

            const Span = document.createElement("span");
            Span.setAttribute("class", "horiVP");
            const Span2 = document.createElement("span");
            Span2.setAttribute("class", "horiVP");

            Span.append(Venue);
            Span.append(Date);
            Span2.append(CName);
            Span2.append(CNum);

            const Button = document.createElement("a");
            const ButtonFace = document.createElement("button");
            ButtonFace.innerText = "Register";
            Button.append(ButtonFace);
            Button.setAttribute(
              "href",
              "/Registration.html?eventname=" +
                d[data].eventname +
                "&eventno=" +
                d[data].eventno +
                "&date=" +
                d[data].date
            );
            Button.style.marginBottom = "20px";

            Div.append(Title);
            Div.append(EvNo);
            Div.append(Price);
            Div.append(Span);
            Div.append(Span2);
            Div.append(Button);

            root.append(Div);
          }
        });
    }

    const request = new XMLHttpRequest();
    request.open("GET", "/loadlist", false); // `false` makes the request synchronous
    request.send(null);

    if (request.status === 200) {
      console.log(request.responseText);
      allEvent = request.responseText;
    }
    allEvent = JSON.parse(allEvent);
    console.log(allEvent);
    const name = document.getElementById("name");
    const no = document.getElementById("no");
    const coname = document.getElementById("coname");
    const cono = document.getElementById("cono");
    const fee = document.getElementById("fee");
    const ven = document.getElementById("ven");
    const date = document.getElementById("date");

    const bl = document.getElementById("button-left");
    const rl = document.getElementById("button-right");

    function ddd() {
      var item = allEvent[Math.floor(Math.random() * allEvent.length)];
      console.log(item);
      name.innerText = item.eventname;
      no.innerText = item.eventno;
      coname.innerText = item.coordinatorname;
      cono.innerText = item.coordinatorno;
      fee.innerText = item.fee;
      ven.innerText = item.cvenue;
      date.innerText = item.date;
    }
    ddd();

    bl.addEventListener("click", () => {
      ddd();
    });
    rl.addEventListener("click", () => {
      ddd();
    });

    const motivRoot = {
      rootTag: "motivational",
      rootUrl: "/loadlist?type=motiv",
    };
    const playbRoot = { rootTag: "playback", rootUrl: "/loadlist?type=play" };
    const modelRoot = { rootTag: "modell", rootUrl: "/loadlist?type=model" };

    listLoader(motivRoot.rootTag, motivRoot.rootUrl);
    listLoader(playbRoot.rootTag, playbRoot.rootUrl);
    listLoader(modelRoot.rootTag, modelRoot.rootUrl);
  </script>
</html>
